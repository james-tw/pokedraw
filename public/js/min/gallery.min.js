function initializeGallery(){$.ajax({type:"GET",url:"/ajax/getDrawingFilenames/1000"}).done(function(a){imgList=a,displayNewDrawings()})}function displayNewDrawings(){loadPortion=imgList.slice(loadStart,loadStart+40),loadPortion.forEach(function(a){var i=a.pokemon.toLowerCase().replace(/\b[a-z]/g,function(a){return a.toUpperCase()}),o=$("<div class='drawing'><h1>"+i+"</h1><a href='drawings/"+a._id+"' download='"+i+".jpeg'><span class='icon-disk'></span></a></div>").css("background-image","url(drawings/"+a._id+")");$(".gallery").append(o)}),$("#loader-button-container").append($('<button class="loader">Load more Pokedraws!</button>')),$(".loader").on("click",function(){$(this).remove(),displayNewDrawings()}),loadStart+=40}var loadPortion=[],imgList=[],loadStart=0;$(window).scroll(function(){$(window).scrollTop()+$(window).height()>$(document).height()-500&&($(".loader").remove(),displayNewDrawings())}),initializeGallery();